# 测试报告

## 概述

本项目使用 Jest 测试框架进行单元测试和集成测试，并生成覆盖率报告。

## 测试覆盖率报告

```
----------------------------|---------|----------|---------|---------|---------------------
File                        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s   
----------------------------|---------|----------|---------|---------|---------------------
All files                   |   43.94 |    31.94 |   46.66 |   43.94 |                     
 controllers                |   41.79 |    32.85 |      50 |   41.79 |                     
  conversationController.js |   41.79 |    32.85 |      50 |   41.79 | 7-10,22,39,74,101,119,138,154-168,194,210-303,337-338,347-428 
 routes                     |     100 |      100 |     100 |     100 |                     
  conversations.js          |     100 |      100 |     100 |     100 |                     
 services                   |   23.07 |        0 |       0 |   23.07 |                     
  aiService.js              |   23.07 |        0 |       0 |   23.07 | 16-46               
----------------------------|---------|----------|---------|---------|---------------------
```

### 覆盖率指标说明

- **% Stmts (语句覆盖率)**: 表示代码中有多少百分比的语句被执行过
- **% Branch (分支覆盖率)**: 表示代码中有多少百分比的分支（如 if/else, switch 等）被执行过
- **% Funcs (函数覆盖率)**: 表示代码中有多少百分比的函数被调用过
- **% Lines (行覆盖率)**: 表示代码中有多少百分比的行被执行过

## 测试结果

- **测试套件**: 3个测试套件全部通过
- **测试用例**: 16个测试用例全部通过
- **测试类型**: 包含单元测试和集成测试

## 测试目录结构

```
tests/
├── unit/                 # 单元测试
│   ├── aiService.test.js
│   └── conversationController.test.js
├── integration/          # 集成测试
│   └── api.test.js
└── reports/              # 测试报告
    ├── coverage-report/  # 覆盖率报告
    └── README.md         # 测试报告说明
```